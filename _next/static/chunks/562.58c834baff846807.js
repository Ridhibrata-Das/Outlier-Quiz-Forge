"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{38964:function(e,r,t){t.d(r,{Ed:function(){return l},UI:function(){return s},XW:function(){return o}});var n=t(67294);function s(e,r){let t=0;return n.Children.map(e,e=>n.isValidElement(e)?r(e,t++):e)}function l(e,r){let t=0;n.Children.forEach(e,e=>{n.isValidElement(e)&&r(e,t++)})}function o(e,r){return n.Children.toArray(e).some(e=>n.isValidElement(e)&&e.type===r)}},97400:function(e,r,t){t.d(r,{SC:function(){return c},pi:function(){return a},vE:function(){return i},zG:function(){return u}});var n=t(67294);t(85893);let s=n.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:l,Provider:o}=s;function i(e,r){let{prefixes:t}=(0,n.useContext)(s);return e||t[r]||r}function a(){let{breakpoints:e}=(0,n.useContext)(s);return e}function u(){let{minBreakpoint:e}=(0,n.useContext)(s);return e}function c(){let{dir:e}=(0,n.useContext)(s);return"rtl"===e}},29388:function(e,r,t){t.r(r),t.d(r,{default:function(){return G}});var n=t(85893),s=t(67294),l=t(45697),o=t.n(l),i=t(91768),a=t(82453),u=t(9661),c=t(9473),d=t(54074),m=t(9559),v=t(31417),g=t(52984),h=t(86501),p=t(23115),_=t(86455),f=t.n(_),w=t(77630),y=t.n(w),x=t(11163),b=t(73469),E=t(27262),j=t(36609),N=t(52732),S=t(72089),C=t(39828),B=t(96766),A=t(93967),T=t.n(A),k=t(17399),I=t(18294),U=t(98032),O=t(71845),z=t(80317),M=t(69641);let R=e=>{let{componentCls:r,margin:t,marginXS:n,marginXL:s,fontSize:l,lineHeight:o}=e;return{[r]:{marginInline:n,fontSize:l,lineHeight:o,textAlign:"center",["".concat(r,"-image")]:{height:e.emptyImgHeight,marginBottom:n,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(r,"-description")]:{color:e.colorText},["".concat(r,"-footer")]:{marginTop:t},"&-normal":{marginBlock:s,color:e.colorTextDisabled,["".concat(r,"-description")]:{color:e.colorTextDisabled},["".concat(r,"-image")]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:n,color:e.colorTextDisabled,["".concat(r,"-image")]:{height:e.emptyImgHeightSM}}}}};var q=(0,z.Z)("Empty",e=>{let{componentCls:r,controlHeightLG:t}=e;return[R((0,M.TS)(e,{emptyImgCls:"".concat(r,"-img"),emptyImgHeight:2.5*t,emptyImgHeightMD:t,emptyImgHeightSM:.875*t}))]}),H=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>r.indexOf(n)&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>r.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t};let Z=s.createElement(()=>{let[,e]=(0,O.Z)(),r=new U.C(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return s.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),s.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),s.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),s.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),s.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),s.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},null),D=s.createElement(()=>{let[,e]=(0,O.Z)(),{colorFill:r,colorFillTertiary:t,colorFillQuaternary:n,colorBgContainer:l}=e,{borderColor:o,shadowColor:i,contentColor:a}=(0,s.useMemo)(()=>({borderColor:new U.C(r).onBackground(l).toHexShortString(),shadowColor:new U.C(t).onBackground(l).toHexShortString(),contentColor:new U.C(n).onBackground(l).toHexShortString()}),[r,t,n,l]);return s.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{fill:i,cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{fillRule:"nonzero",stroke:o},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:a}))))},null),F=e=>{var{className:r,rootClassName:t,prefixCls:n,image:l=Z,description:o,children:i,imageStyle:a,style:u}=e,c=H(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);let{getPrefixCls:d,direction:m,empty:v}=s.useContext(k.E_),g=d("empty",n),[h,p]=q(g),[_]=(0,I.Z)("Empty"),f=void 0!==o?o:null==_?void 0:_.description,w=null;return w="string"==typeof l?s.createElement("img",{alt:"string"==typeof f?f:"empty",src:l}):l,h(s.createElement("div",Object.assign({className:T()(p,g,null==v?void 0:v.className,{["".concat(g,"-normal")]:l===D,["".concat(g,"-rtl")]:"rtl"===m},r,t),style:Object.assign(Object.assign({},null==v?void 0:v.style),u)},c),s.createElement("div",{className:"".concat(g,"-image"),style:a},w),f&&s.createElement("div",{className:"".concat(g,"-description")},f),i&&s.createElement("div",{className:"".concat(g,"-footer")},i)))};F.PRESENTED_IMAGE_DEFAULT=Z,F.PRESENTED_IMAGE_SIMPLE=D;var Q=t(46458),V=t(77874);t(55455);var P=t(15605);let J=y()(f()),L=e=>{var r,t;let{questions:l,timerSeconds:o,onOptionClick:i,onQuestionEnd:_}=e,[f,w]=(0,s.useState)(l),[y,A]=(0,s.useState)(0),[T,k]=(0,s.useState)([]),[I,U]=(0,s.useState)(),[O,z]=(0,s.useState)(),[M,R]=(0,s.useState)(),[q,H]=(0,s.useState)(!1),[Z,D]=(0,s.useState)(),[L,G]=(0,s.useState)(),W=(0,s.useRef)(0),X=(0,c.I0)(),Y=(0,x.useRouter)(),K=(0,s.useRef)(null),$=(0,s.useRef)(null),ee=(0,s.useRef)(null),er=(0,C.ad)(),et=(0,c.v9)(e=>e.message),en=(0,c.v9)(e=>e.User),es=(0,c.v9)(d.zl),el=(0,c.v9)(g.fg),eo=(0,c.v9)(p.Vb),ei=null==eo?void 0:null===(r=eo.data)||void 0===r?void 0:r.find(e=>(null==e?void 0:e.type)==="combat_winner"),ea=null==eo?void 0:null===(t=eo.data)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)==="ultimate_player"),eu=ei&&(null==ei?void 0:ei.status),ec=ei&&(null==ei?void 0:ei.badge_reward),ed=ea&&(null==ea?void 0:ea.status),em=ea&&(null==ea?void 0:ea.badge_reward),[ev,eg]=(0,s.useState)({});(0,c.v9)(e=>e.User);let eh=e=>{eg({...ev,[e]:!0})},ep=el.roomID,e_=async()=>{if(null!==et.firestoreId)try{await (0,C.oe)((0,C.JU)(er,"messages",et.firestoreId))}catch(e){h.ZP.error(e.message||"An error occurred")}},ef=async e=>{try{await (0,C.oe)((0,C.JU)(er,"battleRoom",e))}catch(e){h.ZP.error(e)}},ew=()=>{if("0"===eu){var e,r;el.user1uid===(null==en?void 0:null===(e=en.data)||void 0===e?void 0:e.id)&&el.user1point>el.user2point?(0,m.gs)("combat_winner",e=>{var r;(0,p.sQ)("combat_winner","1"),h.ZP.success((0,j.t)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.notification_body)),(0,m.zw)({coins:ec,title:(0,j.t)("combat_badge_reward"),status:0,onSuccess:e=>{(0,m.Gq)({onSuccess:e=>{(0,v.X5)(e.data)},onError:e=>{console.log(e)}})},onerror:e=>{console.log(e)}})},e=>{console.log(e)}):(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)===el.user2uid&&el.user1point<el.user2point&&(0,m.gs)("combat_winner",e=>{var r;(0,p.sQ)("combat_winner","1"),h.ZP.success((0,j.t)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.notification_body)),(0,m.zw)({coins:ec,title:(0,j.t)("combat_badge_reward"),status:0,onSuccess:e=>{(0,m.Gq)({onSuccess:e=>{(0,v.X5)(e.data)},onError:e=>{console.log(e)}})},onerror:e=>{console.log(e)}})},e=>{console.log(e)})}},ey=()=>{var e;let r=Number(null==es?void 0:es.battle_mode_one_quickest_correct_answer_extra_score)+Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score)*(null==f?void 0:f.length);(el.user1uid===(null==en?void 0:null===(e=en.data)||void 0===e?void 0:e.id)?el.user1point:el.user2point)===r&&"0"===ed&&(0,m.gs)("ultimate_player",e=>{var r;(0,p.sQ)("ultimate_player","1"),h.ZP.success((0,j.t)(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.notification_body)),(0,m.zw)({coins:em,title:(0,j.t)("ultimate_badge_reward"),status:0,onSuccess:e=>{(0,m.Gq)({onSuccess:e=>{(0,v.X5)(e.data)},onError:e=>{console.log(e)}})},onerror:e=>{console.log(e)}})},e=>{console.log(e)})};(0,s.useEffect)(()=>{(async()=>{if(null!==et.firestoreId){let e=(0,C.ad)(),r=(0,C.JU)(e,"messages",et.firestoreId);(0,C.cf)(r,e=>{e.exists&&e.data()&&U(e.data().by)},e=>{console.log("err",e)})}})()},[et.firestoreId]);let ex=async()=>{let e=y+1;if(e<(null==f?void 0:f.length))A(e);else{let e=null,r=W.current,t=100*r/(null==f?void 0:f.length);(0,m.Q1)({questions_answered:null==f?void 0:f.length,correct_answers:r,category_id:f[y].category,percentage:t,onSuccess:e=>{},onError:e=>{console.log(e)}}),e=await (0,u.mB)(r,null==f?void 0:f.length,null==es?void 0:es.battle_mode_one_correct_answer_credit_score,null==es?void 0:es.battle_mode_one_wrong_answer_deduct_score),await _(null,e),ew(),ey(),ef(ep)}},eb=async e=>{if(!ev.hasOwnProperty(y)){var r;eh(y);let{id:t,answer:n}=f[y],s=(0,u.QY)(n,null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.firebase_id),l=W.current;s===e&&(l++,W.current=l);let o=f[y];(0,u.ED)(e,o.answer);let a=f.map(r=>r.id===t?{...r,selected_answer:e,isAnswered:!0}:r);w(a),eN(e),X((0,E.Rp)(l)),i(a,l),X((0,E.gk)(a))}},eE=(e,r,t,n,s,l)=>{(0,g.yB)("user1name",e),(0,g.yB)("user2name",r),(0,g.yB)("user1image",s),(0,g.yB)("user2image",l),(0,g.yB)("user1uid",t),(0,g.yB)("user2uid",n)},ej=(e,r)=>{(0,g.yB)("user1point",e),(0,g.yB)("user2point",r)},eN=async e=>{try{var r;let t=(0,C.JU)(er,"battleRoom",ep),n=await (0,C.QT)(t);if(!n.exists())return;let s=n.data(),l=s.user1.answers,o=s.user2.answers;(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)===s.user1.uid?(l.push(e),await (0,C.r7)(t,{"user1.answers":l})):(o.push(e),await (0,C.r7)(t,{"user2.answers":o})),eB(),eS(e),eA(e)}catch(e){console.error("Error submitting answer:",e)}},eS=async e=>{try{var r,t,n;let s=(0,C.JU)(er,"battleRoom",ep),l=await (0,C.QT)(s);if(!l.exists())return;let i=l.data(),a=K.current.getTimerSeconds(),c=o-a,d=i.user1.name,m=i.user2.name,v=i.user1.points,g=i.user2.points,h=i.user1.uid,p=i.user2.uid,_=i.user1.profileUrl,w=i.user2.profileUrl;if(eE(d,m,h,p,_,w),(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)===i.user1.uid){if((0,u.QY)(f[y].answer,null==en?void 0:null===(t=en.data)||void 0===t?void 0:t.firebase_id)===e){let e;e=c<2?Number(null==es?void 0:es.battle_mode_one_quickest_correct_answer_extra_score)+Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score):3===c||4===c?Number(null==es?void 0:es.battle_mode_one_second_quickest_correct_answer_extra_score)+Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score):Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score),await (0,C.r7)(s,{"user1.points":e+v})}}else if((0,u.QY)(f[y].answer,null==en?void 0:null===(n=en.data)||void 0===n?void 0:n.firebase_id)===e){let e;e=c<2?Number(null==es?void 0:es.battle_mode_one_quickest_correct_answer_extra_score)+Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score):3===c||4===c?Number(null==es?void 0:es.battle_mode_one_second_quickest_correct_answer_extra_score)+Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score):Number(null==es?void 0:es.battle_mode_one_correct_answer_credit_score),await (0,C.r7)(s,{"user2.points":e+g})}}catch(e){console.error("Error processing checkpoints:",e)}},eC=async()=>{try{var e;let r=(0,C.JU)(er,"battleRoom",ep),t=await (0,C.QT)(r);if(!t.exists()){console.log("No such document!");return}let n=t.data(),s=n.user1.answers,l=n.user2.answers;(null==en?void 0:null===(e=en.data)||void 0===e?void 0:e.id)===n.user1.uid?(s.push(-1),await (0,C.r7)(r,{"user1.answers":s})):(l.push(-1),await (0,C.r7)(r,{"user2.answers":l})),eB()}catch(e){console.error("Error updating timer expire:",e)}},eB=()=>{let e=(0,C.JU)(er,"battleRoom",ep);(0,C.cf)(e,e=>{if(e.exists&&e.data()){var r,t,n,s;let l=e.data(),o=null===(r=l.user1.answers)||void 0===r?void 0:r.length,i=null===(t=l.user2.answers)||void 0===t?void 0:t.length;l.entryFee,(0!=o||0!=i)&&(o===i?(setTimeout(()=>{ex()},1e3),null!==K.current&&null!==$.current&&(K.current.resetTimer(),$.current.resetTimer())):o>i?(null==en?void 0:null===(n=en.data)||void 0===n?void 0:n.id)===l.user1.uid?null!==K.current&&K.current.pauseTimer():null!==$.current&&$.current.pauseTimer():o<i&&((null==en?void 0:null===(s=en.data)||void 0===s?void 0:s.id)===l.user2.uid?null!==K.current&&K.current.pauseTimer():null!==$.current&&$.current.pauseTimer()))}},e=>{console.log("err",e)})},eA=async e=>{try{var r,t,n,s;let l=(0,C.JU)(er,"battleRoom",ep),o=await (0,C.QT)(l);if(!o.exists()){console.log("No such document!");return}let i=o.data(),a=i.user1.name,c=i.user2.name,d=i.user1.profileUrl,m=i.user2.profileUrl,v=i.user1.correctAnswers,h=i.user2.correctAnswers,p=i.user1.uid,_=i.user2.uid;(0,g.yB)("user1name",a),(0,g.yB)("user2name",c),(0,g.yB)("user1image",d),(0,g.yB)("user2image",m),(0,g.yB)("user1uid",p),(0,g.yB)("user2uid",_),(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)===i.user1.uid?(0,u.QY)(f[y].answer,null==en?void 0:null===(n=en.data)||void 0===n?void 0:n.firebase_id)===e&&await (0,C.r7)(l,{"user1.correctAnswers":v+1}):(null==en?void 0:null===(t=en.data)||void 0===t?void 0:t.id)===i.user2.uid&&(0,u.QY)(f[y].answer,null==en?void 0:null===(s=en.data)||void 0===s?void 0:s.firebase_id)===e&&await (0,C.r7)(l,{"user2.correctAnswers":h+1})}catch(e){console.error("Error checking correct answers:",e)}},eT=()=>{let e=(0,C.JU)(er,"battleRoom",ep),r=!1,t=!1;(0,C.cf)(e,e=>{let n=!0;if(e.exists&&e.data()){var s;let l=e.data(),o=l.user1.points,i=l.entryFee;(0,g.yB)("entryFee",i);let a=l.user2.points,u=l.user1,c=l.user2,d=l.user1.uid;D(l.user1.uid);let h=l.user2.uid;G(l.user2.uid);let p=u.correctAnswers;(0,g.yB)("user1CorrectAnswer",p);let w=c.correctAnswers;(0,g.yB)("user2CorrectAnswer",w),ej(o,a);let y=[];y=[u,c],k([u,c]);let x=[u,c],b=x.filter(e=>""!==e.uid);t||(t=!0,(0,g.yB)("totalusers",null==b?void 0:b.length)),r||(r=!0,x.forEach(e=>{var r;(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)===e.uid&&""!==e.uid&&l.entryFee>0&&(0,m.zw)({coins:"-"+l.entryFee,title:(0,j.t)("played_battle"),status:1,onSuccess:e=>{(0,m.Gq)({onSuccess:e=>{(0,v.X5)(e.data)},onError:e=>{console.log(e)}})},onError:e=>{console.log(e)}})}));let E=x.filter(e=>{var r;return(null===(r=Object.keys(e.uid))||void 0===r?void 0:r.length)>0});[d,h].includes(null==en?void 0:null===(s=en.data)||void 0===s?void 0:s.id)&&(null==E?void 0:E.length)<2&&J.fire({title:(0,j.t)("opponent_left"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:(0,j.t)("ok")}).then(e=>{e.isConfirmed&&(Y.push("/quiz-play"),ef(ep))}),y.forEach(e=>{if(""!=e.uid){var r;(null===(r=e.answers)||void 0===r?void 0:r.length)<(null==f?void 0:f.length)&&(n=!1)}}),n&&setTimeout(async()=>{await _(),ef(ep)},1e3)}else n&&(null==f?void 0:f.length)<y?Y.push("/"):_()},e=>{console.log("err",e)})};(0,s.useEffect)(()=>{eA()},[]),(0,s.useEffect)(()=>(eT(),eB(),eS(),()=>{let e=(0,C.JU)(er,"battleRoom",ep);(0,C.cf)(e,r=>{if(r.exists&&r.data()){var t,n;let s=r.data(),l=s&&s.user1.uid,o=s&&s.user2.uid,i=r.id;l===(null==en?void 0:null===(t=en.data)||void 0===t?void 0:t.id)?(0,C.r7)(e,{"user1.name":"","user1.uid":"","user1.profileUrl":""}):o===(null==en?void 0:null===(n=en.data)||void 0===n?void 0:n.id)&&(0,C.r7)(e,{"user2.name":"","user2.uid":"","user2.profileUrl":""}),Y.push("/quiz-play"),ef(i)}},e=>{console.log("err",e)})}),[]),(0,s.useEffect)(()=>{if(el.roomID){let e=(0,C.IO)((0,C.hJ)(er,"messages"),(0,C.ar)("roomId","==",el.roomID)),r=(0,C.cf)(e,e=>{e.docChanges().forEach(e=>{let r=e.doc.data();if("added"===e.type){let e=(0,j.t)(r.message);z({...r,message:e}),H(!0),setTimeout(()=>{H(!1),e_()},"4000")}})});return()=>r()}},[]);let ek=(0,n.jsx)("div",{children:O?O.isTextMessage?(0,n.jsx)("div",{children:O.message}):O.message&&(0,n.jsx)("div",{children:(0,n.jsx)(P.Z,{src:O.message,height:"50px",width:"50px"})}):(0,n.jsx)("div",{children:"No message data available"})}),eI=T.find(e=>{var r;return e.uid===(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)}),eU=()=>T!==F?T.map((e,r)=>void 0!==O&&(Z===O.by||L===O.by)?(0,n.jsx)(Q.Z,{wrap:!0,children:(0,n.jsx)(V.Z,{content:ek,overlayStyle:{backgroundColor:"#f0f0f0"},open:q})},r):null):null;return(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("div",{className:"dashboardPlayUppDiv funLearnQuestionsUpperDiv selfLearnQuestionsUpperDiv text-end p-2 pb-0 ",children:(0,n.jsx)(N.Z,{currentQuestion:y,questions:f,showAnswers:!1})}),(0,n.jsxs)("div",{className:"questions battlequestion",ref:ee,children:[(0,n.jsx)(S.default,{questions:f,currentQuestion:y,setAnswerStatusClass:e=>{let r=f[y];return(0,u.Z1)(e,r.isAnswered,r.answer,r.selected_answer)},handleAnswerOptionClick:eb,probability:!1,latex:!0}),(0,n.jsx)("div",{className:"divider",children:(0,n.jsx)("hr",{style:{width:"112%",backgroundColor:"gray",height:"2px"}})}),(0,n.jsxs)("div",{className:"user_data onevsone below_1400",children:[(0,n.jsxs)("div",{className:"user_one mb-4",children:[(0,n.jsxs)("div",{className:"inner__headerdash",children:[(0,n.jsx)("div",{className:"msgPopUpWrapperOneVsOne",children:void 0!==O&&(null==eI?void 0:eI.uid)==O.by&&eU()}),f&&""!==f[0].id?(0,n.jsx)(a.Z,{ref:K,timerSeconds:o,onTimerExpire:eC}):""]}),(0,n.jsxs)("div",{className:"inner_user_data onevsonedetails",children:[(0,n.jsx)("div",{className:"username",children:(0,n.jsx)("p",{children:(null==eI?void 0:eI.name)?null==eI?void 0:eI.name:"Waiting..."})}),(0,n.jsx)("div",{className:"userpoints",children:(0,n.jsx)("div",{className:"rightWrongAnsDiv",children:(0,n.jsxs)("span",{className:"rightAns",children:[(0,n.jsx)("img",{src:b.Z.src,alt:""}),(null==eI?void 0:eI.correctAnswers)?null==eI?void 0:eI.correctAnswers:0," / ",(0,n.jsx)("span",{children:null==f?void 0:f.length})]})})})]})]}),(0,n.jsx)(B.Z,{}),(0,n.jsxs)("div",{className:"user_two mb-4",children:[(0,n.jsxs)("div",{className:"inner__headerdash",children:[(0,n.jsx)("div",{className:"msgPopUpWrapperOneVsOne",children:void 0!==O&&(null==eI?void 0:eI.uid)!==O.by&&eU()}),f&&""!==f[0].id?(0,n.jsx)(a.Z,{ref:$,timerSeconds:o,onTimerExpire:()=>{}}):""]}),null==T?void 0:T.map(e=>{var r;return e.uid!==(null==en?void 0:null===(r=en.data)||void 0===r?void 0:r.id)&&""!==e.uid?(0,n.jsxs)(n.Fragment,{children:["                  ",(0,n.jsxs)("div",{className:"inner_user_data",children:[(0,n.jsx)("div",{className:"username",children:(0,n.jsx)("p",{children:e.name?e.name:"Waiting..."})}),(0,n.jsx)("div",{className:"userpoints",children:(0,n.jsx)("div",{className:"rightWrongAnsDiv",children:(0,n.jsxs)("span",{className:"rightAns",children:[(0,n.jsx)("img",{src:b.Z.src,alt:""}),e.correctAnswers?e.correctAnswers:0," / ",(0,n.jsx)("span",{children:null==f?void 0:f.length})]})})})]})]}):null})]})]})]})]})};L.propTypes={questions:o().array.isRequired,onOptionClick:o().func.isRequired};var G=(0,i.Z)()(L)}}]);