"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{56043:function(e,a){a.Z={src:"/_next/static/media/Elite Placeholder.2a1a8ec7.svg",height:1080,width:1080,blurWidth:0,blurHeight:0}},2885:function(e,a){a.Z={src:"/_next/static/media/coin.d45b58af.svg",height:194,width:194,blurWidth:0,blurHeight:0}},11039:function(e,a){a.Z={src:"/_next/static/media/versus.e4c017f4.svg",height:125,width:45,blurWidth:0,blurHeight:0}},50257:function(e,a,t){var l=t(85893);t(67294);var s=t(82305),r=t(68258),n=t(36609);a.Z=e=>{let{currentUrl:a,shouldGenerateRoomCode:t,appName:i,showModal:o,hideModal:d,entryFee:c,categoryName:m}=e,u=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.Dk,{url:a,title:"Dive into the ultimate quiz battle showdown on Elite Quiz, Join the squad using code: ".concat(t," Category : ").concat(m,", Just ").concat(c," Coins to play—let's crush it!"),hashtag:i,children:[(0,l.jsx)(r.Vq,{size:30,round:!0})," ",""," ",(0,n.t)("Facebook")]}),(0,l.jsxs)(r.B,{url:a,title:"Dive into the ultimate quiz battle showdown on Elite Quiz, Join the squad using code: ".concat(t," Category : ").concat(m,", Just ").concat(c," Coins to play—let's crush it!"),children:[(0,l.jsx)(r.b0,{size:30,round:!0})," ",""," ",(0,n.t)("Twitter")]}),(0,l.jsxs)(r.N0,{url:a,title:"Dive into the ultimate quiz battle showdown on Elite Quiz, Join the squad using code: ".concat(t," Category : ").concat(m,", Just ").concat(c," Coins to play—let's crush it!"),hashtag:i,children:[(0,l.jsx)(r.ud,{size:30,round:!0})," ",""," ",(0,n.t)("Whatsapp")]})]});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{size:"small",centered:!0,title:(0,n.t)("share_room_code"),open:o,onOk:d,onCancel:d,footer:null,width:"300px",children:(0,l.jsx)("div",{id:"share-buttons-container",className:"d-flex gap-5 align-center justify-center",children:u})})})}},40993:function(e,a,t){t.r(a);var l=t(85893),s=t(67294),r=t(91768),n=t(86501),i=t(31816),o=t(82305),d=t(86455),c=t.n(d),m=t(77630),u=t.n(m),h=t(9473),_=t(9559),v=t(89886),x=t(31417),y=t(52984),g=t(27262),j=t(9661),p=t(54074),b=t(81702),f=t(11163),N=t(79326),w=t(11039),S=t(50257),Z=t(36609),C=t(2885),P=t(74274),E=t(39828),F=t(58386),I=t(25675),J=t.n(I);t(52589);var k=t(56043);a.default=(0,r.Z)()(()=>{var e,a,t,r,d,m,I,z,B,D,R,T,U,q,A,H;let O=u()(c()),G=(0,E.ad)(),W=(0,h.I0)(),$=(0,h.v9)(e=>e.User),M=(0,h.v9)(y.fg),Q=(0,h.v9)(p.vV),V=(0,h.v9)(p.zl),L=Q&&Q.filter(e=>"app_name"==e.type),K=L&&(null==L?void 0:L.length)>0?L[0].message:"",X=(0,h.v9)(g.Zb);(0,h.v9)(e=>e.message);let[Y,ee]=(0,s.useState)(""),ea=i.Z.TabPane,[et,el]=(0,s.useState)({all:"",category_data:"",category_name:""}),[es,er]=(0,s.useState)(!0),[en,ei]=(0,s.useState)(!1),[eo,ed]=(0,s.useState)({all:"",selected:""}),[ec,em]=(0,s.useState)(!1),[eu,eh]=(0,s.useState)(!1),[e_,ev]=(0,s.useState)(!1),[ex,ey]=(0,s.useState)(!1),[eg,ej]=(0,s.useState)([]),[ep,eb]=(0,s.useState)(!1),[ef,eN]=(0,s.useState)(0),[ew,eS]=(0,s.useState)(),[eZ,eC]=(0,s.useState)(""),[eP,eE]=(0,s.useState)(),[eF,eI]=(0,s.useState)(),[eJ,ek]=(0,s.useState)(),[ez,eB]=(0,s.useState)(),eD=(0,f.useRouter)(),eR=X.language_id,eT=V&&(null==V?void 0:V.battle_mode_one_category)=="1"?null==et?void 0:null===(e=et.category_data)||void 0===e?void 0:e.id:"",eU=V&&(null==V?void 0:V.battle_mode_one_entry_coin),eq=(null==$?void 0:null===(a=$.data)||void 0===a?void 0:a.name)||(null==$?void 0:null===(t=$.data)||void 0===t?void 0:t.email)||(null==$?void 0:null===(r=$.data)||void 0===r?void 0:r.mobile),eA=(null==$?void 0:null===(d=$.data)||void 0===d?void 0:d.profile)?null==$?void 0:null===(m=$.data)||void 0===m?void 0:m.profile:"",eH=null==$?void 0:null===(I=$.data)||void 0===I?void 0:I.id,eO=$&&(null==$?void 0:null===(z=$.data)||void 0===z?void 0:z.coins),eG=Number(eo.selected),eW=(0,s.useRef)(null),e$=M.roomID,eM=(0,s.useRef)({readyplay:null,ownerID:null,roomid:null}),eQ=()=>{(0,_.Yc)({type:1,sub_type:2,onSuccess:e=>{let a=e.data.filter(e=>"0"===e.is_premium);el({...et,all:a,category_data:a[0],category_name:a[0].category_name}),er(!1)},onError:e=>{er(!1),console.log(e)}})},eV=async(e,a,t,l,s,r,i,o)=>{try{let r=await (0,E.ET)((0,E.hJ)(G,"battleRoom"),{categoryId:e,createdAt:(0,E.Bt)(),createdBy:l,entryFee:i||0,languageId:o,readyToPlay:!1,categoryName:null==et?void 0:et.category_name,roomCode:s||"",user1:{answers:[],name:a,points:0,profileUrl:t,uid:l,correctAnswers:0},user2:{answers:[],name:"",points:0,profileUrl:"",uid:"",correctAnswers:0}});return(0,y.yB)("createdby",l),(0,y.yB)("entryFee",i),ev(!0),await r}catch(e){n.ZP.error(e)}},eL=async e=>{try{await (0,E.oe)((0,E.JU)(G,"battleRoom",e))}catch(e){n.ZP.error(e)}},eK=async(e,a)=>{try{let t=(0,E.IO)((0,E.hJ)(G,"battleRoom"),(0,E.ar)("languageId","==",e),(0,E.ar)("categoryId","==",a),(0,E.ar)("roomCode","==",""),(0,E.ar)("user2.uid","==","")),l=(await (0,E.PL)(t)).docs,s=l.findIndex(e=>e.data().createdBy==eH);return -1!==s&&(eL(l[s].id),l.splice(null==l?void 0:l.length,s)),l}catch(e){n.ZP.error("Error getting document",e)}},eX=async()=>{if(eB(!0),""===eo.selected){n.ZP.error("Please select coins and enter value in numeric value");return}if(Number(eW.current.value)>Number(eO)){n.ZP.error((0,Z.t)("no_enough_coins"));return}try{let e,a=await eK(eR,eT);e=(null==a?void 0:a.length)!==0&&a.id?a.id:await e0(),(0,y.yB)("roomid",e),eB(!1)}catch(e){eB(!1),n.ZP.error(e),console.log(e)}},eY=(e,a)=>{eD.push("/random-battle/play-with-friend-play"),(0,g.Vm)({category_id:a,room_id:e,destroy_match:"0"})},e0=async()=>{if(eO<0||"0"===eO){n.ZP.error((0,Z.t)("no_enough_coins"));return}let e="";ei(e=(0,j.ER)("onevsone")),(0,y.yB)("roomCode",e);let a=await eV(eT,eq,eA,eH,e,"public",eG,eR);return em(!0),a.id},e1=async(e,a,t,l,s)=>{eE(l);try{if(l){let r=await e5(e,a,t,l,s);void 0===r?(eh(!1),eb(!1),n.ZP.error((0,Z.t)("room_code_not_valid"))):(eb(!0),(0,y.yB)("roomid",r.id),M.entryFee>0&&(0,_.zw)({coins:M.entryFee,title:(0,Z.t)("played_battle"),status:1,onSuccess:e=>{(0,_.Gq)({onSuccess:e=>{(0,x.X5)(e.data)},onError:e=>{console.log(e)}})},onError:e=>{console.log(e)}}))}else eh(!1),eb(!1),n.ZP.error((0,Z.t)("enter_room_code"))}catch(e){console.log("error",e)}},e2=async e=>{try{let a=(0,E.IO)((0,E.hJ)(G,"battleRoom"),(0,E.ar)("roomCode","==",e));return await (0,E.PL)(a)}catch(e){console.log("error",e)}},e5=async(e,a,t,l,s)=>{try{let s=await e2(l);""===s.docs&&n.ZP.error((0,Z.t)("invalid_room_code  ")),s.docs[0].data().readyToPlay&&n.ZP.success((0,Z.t)("game_started"));let r=s.docs[0].data().entryFee,i=s.docs[0].data().categoryName;eN(r),eC(i);let o=s.docs[0].ref;return(0,E.i3)(G,async l=>{let s=await l.get(o);s.exists||n.ZP.error((0,Z.t)("document_not_exist"));let r=s.data().user2;return""===r.uid&&l.update(o,{"user2.name":e,"user2.uid":t,"user2.profileUrl":a}),s})}catch(e){console.log("error",e)}},e3=[{id:"1",num:eU},{id:"2",num:2*eU},{id:"3",num:3*eU},{id:"4",num:4*eU}],e8=e=>{ed({...eo,selected:e.num}),eW.current.value=""},e9=e=>{let a=M.roomID,t=(0,E.JU)(G,"battleRoom",a);return(0,E.i3)(G,async e=>{let a=await e.get(t);return a.exists||n.ZP.error((0,Z.t)("document_not_exist")),""!==a.data().user2.uid?e.update(t,{readyToPlay:!0}):n.ZP.error((0,Z.t)("player_not_join")),a})};(0,s.useEffect)(()=>{eQ()},[v.Aj]);let e6=M.createdBy,e4=async e=>{let a=(0,E.JU)(G,"battleRoom",e);(0,E.cf)(a,{includeMetadataChanges:!0},e=>{if(e.exists&&e.data()){let a=e.data(),t=e.id;eH==a.createdBy&&(O.fire({text:(0,Z.t)("room_deleted")}),ee(""),eL(t),(0,y.lI)())}},e=>{console.log("err",e)})};(0,s.useEffect)(()=>{if(!e$)return;let e=(0,E.JU)(G,"battleRoom",e$);(0,E.cf)(e,{includeMetadataChanges:!0},e=>{if(e.exists&&e.data()){var a;let t=e.data();ey(e.id);let l=t.user1,s=t.user2,r=t.categoryId;eI(r);let n=t.user1.uid,i=t.user2.uid,o=t.readyToPlay,d=t.createdBy;(null==$?void 0:null===(a=$.data)||void 0===a?void 0:a.id)===n?ej([s]):ej([l]);let c=t.readyToPlay,m=t.roomCode;c&&eY(m,r),eH==d?(eb(!1),em(!0)):(eb(!0),em(!1)),eM.current.ownerID=d,eM.current.readyplay=o,eS(d),""==i&&(eM.current.ownerID=null,eb(!1))}else!1==eM.current.readyplay&&null!==eM.current.ownerID&&eH!==eM.current.ownerID&&O.fire({text:(0,Z.t)("room_delet_owner")}).then(e=>{if(e.isConfirmed)return ee(""),eD.push("/random-battle/play-with-friend-battle"),!1})},e=>{console.log("err",e)})},[M]),(0,s.useEffect)(()=>{ed({...eo,selected:e3[0].num})},[]);let e7=async e=>{eb(!1);try{eb(!1);let a=(0,E.JU)(G,"battleRoom",e),t=await (0,E.QT)(a);t.exists&&t.data()&&await (0,E.r7)(a,{"user2.name":"","user2.uid":"","user2.profileUrl":""}),eD.push("/random-battle/play-with-friend-battle"),eh(!1)}catch(e){console.log("Error:",e)}},ae=e=>{let a=e.target.selectedIndex,t=e.target.childNodes[a],l=JSON.parse(t.getAttribute("data")),s=t.getAttribute("name");el({...et,category_data:l,category_name:s})},aa="https://eliteweb.wrteam.me"+eD.asPath,[at,al]=(0,s.useState)(!1),as=e=>{e.preventDefault();let a=e.target.value;/^\d+$/.test(a)||""===a?e.target.value>=0?ed({...eo,selected:e.target.value}):ed({...eo,selected:0}):n.ZP.error("Please Enter Numeric Values")};return(0,s.useEffect)(()=>{W((0,g.e5)(!1))},[]),(0,s.useEffect)(()=>{void 0!==eF&&""!==et.all&&et.all.map(e=>{e.id==eF&&ek(e.image)})},[eF]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.Z,{title:(0,Z.t)("1 v/s 1 Battle"),content:"",contentTwo:""}),(0,l.jsx)("div",{className:"SelfLearning battlequiz my-5",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"playFrndWrapper",children:(0,l.jsxs)("div",{className:"row morphisam",children:[(0,l.jsx)("div",{className:"col-md-12  col-xl-12 col-xxl-12 col-12",children:(0,l.jsx)("h3",{className:"playFrndTitle",children:(0,Z.t)("play_with_friend")})}),(0,l.jsx)("div",{className:"col-md-12  col-xl-12 col-xxl-12 col-12",children:(0,l.jsxs)(i.Z,{defaultActiveKey:"1",children:[(0,l.jsxs)(ea,{tab:(0,Z.t)("create_room"),children:[(()=>{if(V&&"1"==V.battle_mode_one_category)return(0,l.jsx)("div",{className:"bottom__cat__box playFrndSelecter",children:(0,l.jsx)("div",{className:"seleterWrapper",children:(0,l.jsx)(b.Z.Select,{"aria-label":"Default select example",size:"lg",className:"selectform",onChange:e=>ae(e),children:es?(0,l.jsx)("option",{children:(0,Z.t)("loading")}):(0,l.jsx)(l.Fragment,{children:et.all?et.all.map((e,a)=>{let{category_name:t}=e;return(0,l.jsx)("option",{value:e.key,no_of:e.no_of,name:e.category_name,data:JSON.stringify(e),children:t},a)}):(0,l.jsx)("option",{children:(0,Z.t)("no_cat_data_found")})})})})})})(),(0,l.jsxs)("div",{className:"inner_content d-flex align-items-center flex-wrap",children:[(0,l.jsxs)("span",{children:[(0,Z.t)("entry_fees"),":"]}),(0,l.jsxs)("ul",{className:"coins_deduct d-flex ps-0 align-items-center my-3",children:[e3.map((e,a)=>(0,l.jsxs)("li",{className:"list-unstyled ".concat(e.num==eG?"active-one":"unactive-one"),onClick:a=>e8(e),children:[(0,l.jsx)("img",{src:C.Z.src,alt:"coin"}),(0,l.jsx)("span",{children:e.num})]},a)),(0,l.jsx)("div",{className:"input_coins",children:(0,l.jsx)("input",{type:"number",placeholder:"00",min:"0",value:eo.selected,onChange:e=>as(e),ref:eW})})]})]}),(0,l.jsx)("div",{className:"total_coins my-4 ml-0",children:(0,l.jsxs)("h5",{className:" text-center ",children:[(0,Z.t)("current_coins")," : ",eO<0?0:eO]})}),(0,l.jsx)("div",{className:"create_room",children:ez?(0,l.jsx)("button",{className:"btn btn-primary loader_div",children:(0,l.jsx)("div",{class:"room_loader"})}):(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>eX(),children:(0,Z.t)("create_room")})})]},"1"),(0,l.jsxs)(ea,{tab:(0,Z.t)("join_room"),children:[(0,l.jsx)("div",{className:"join_room_code",children:(0,l.jsx)(F.Z,{value:Y,onChange:ee,numInputs:6,containerStyle:"otpbox",renderSeparator:(0,l.jsx)("span",{className:"space"}),renderInput:e=>(0,l.jsx)("input",{...e,className:"custom-input-class"})})}),(0,l.jsx)("div",{className:"join_btn mt-4",children:(0,l.jsxs)("button",{className:" btn btn-primary",onClick:()=>{eh(!0),e1(eq,eA,eH,Y,eO)},disabled:eu,children:[" ",(0,Z.t)("join_room")]})})]},"2")]})})]})})})}),(0,l.jsx)(o.Z,{maskClosable:!1,centered:!0,open:ec,onOk:()=>em(!1),onCancel:()=>{em(!1),e4(ex)},footer:null,className:"custom_modal_notify retry-modal playwithfriend",children:ec?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"randomplayer",children:(0,l.jsxs)("div",{className:"main_screen",children:[(0,l.jsx)("h3",{className:"text-center headlineText",children:(0,Z.t)("play_with_friend")}),(0,l.jsx)("div",{class:"join_battel_sub_header",children:(0,Z.t)("ready_for_quiz")}),(0,l.jsxs)("div",{className:"room_code_screen",children:[(0,l.jsxs)("h6",{className:"fw-bold mt-1 mb-3",children:[(0,Z.t)("game_start_soon")," "]}),(0,l.jsx)("h3",{className:"mt-2 mb-3",children:en}),(0,l.jsxs)("div",{className:"entry_fees_coins_battle",children:[(0,Z.t)("entry_fees")," \xa0 :-\xa0",(0,l.jsx)("p",{className:"coins_selected",children:" ".concat(eo.selected," Coins")})," "]}),(0,l.jsx)("div",{className:"battle_line_break"}),(0,l.jsxs)("div",{className:"battle_cat_image_main_div",children:[(0,l.jsx)("div",{className:"battle_cat_image",children:""!==et.category_data.image?(0,l.jsx)(J(),{src:et.category_data.image,width:50,height:50,className:"rounded"}):(0,l.jsx)(J(),{src:k.Z,width:50,height:50,className:"rounded"})}),(0,l.jsx)("div",{className:"battle_code_bottom_cat",children:et.category_name})]}),null]}),(0,l.jsx)(l.Fragment,{children:at&&(0,l.jsx)(S.Z,{currentUrl:aa,shouldGenerateRoomCode:en,appName:K,showModal:at,hideModal:()=>al(!1),entryFee:null==M?void 0:M.entryFee,categoryName:null==et?void 0:et.category_name})}),(0,l.jsxs)("div",{className:"inner_Screen onevsone_colum_adj",children:[(0,l.jsxs)("div",{className:"user_profile",children:[(0,l.jsx)("img",{src:null==$?void 0:null===(B=$.data)||void 0===B?void 0:B.profile,alt:"wrteam",onError:j.HS}),(0,l.jsx)("h5",{className:"my-3 fw-bold",children:(0,j.$G)((null==$?void 0:null===(D=$.data)||void 0===D?void 0:D.name)||(null==$?void 0:null===(R=$.data)||void 0===R?void 0:R.email)||(null==$?void 0:null===(T=$.data)||void 0===T?void 0:T.mobile),10)}),(0,l.jsx)("span",{className:"createJoinSpan",children:(0,Z.t)("creator")})]}),null==eg?void 0:eg.map((e,a)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"vs_image",children:(0,l.jsx)("img",{src:w.Z.src,alt:"versus",height:100,width:50})}),(0,l.jsxs)("div",{className:"opponent_image",children:[(0,l.jsx)("img",{src:e.profileUrl,alt:"wrteam",onError:j.HS}),(0,l.jsx)("h5",{className:"my-3 fw-bold",children:(0,j.$G)(e.name?e.name:(0,Z.t)("waiting"),10)}),(0,l.jsx)("span",{className:"createJoinSpan",children:(0,Z.t)("joiner")})]},a)]}))]}),(()=>{var e;if((null==$?void 0:null===(e=$.data)||void 0===e?void 0:e.id)==e6)return(0,l.jsx)(l.Fragment,{children:e_?(0,l.jsx)("div",{className:"start_game",children:(0,l.jsx)("button",{className:"btn btn-primary",onClick:e=>e9(e),children:(0,Z.t)("start_game")})}):null})})()]})})}):""}),ep?(0,l.jsx)(o.Z,{centered:!0,maskClosable:!1,keyboard:!1,open:ep,onOk:()=>eb(!1),onCancel:()=>{eb(!1),e7(e$)},footer:null,className:"custom_modal_notify retry-modal playwithfriend",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"randomplayer",children:(0,l.jsxs)("div",{className:"main_screen",children:[(0,l.jsx)("h3",{class:"text-center headlineText",children:(0,Z.t)("Play with a Friend")}),(0,l.jsx)("div",{className:"join_battel_sub_header",children:(0,Z.t)("ready_for_quiz")}),(0,l.jsxs)("div",{className:"room_code_screen",children:[(0,l.jsx)("h6",{className:"fw-bold mt-1 mb-3",children:(0,Z.t)("game_start_soon")}),(0,l.jsx)("h3",{className:"mt-2 mb-3",children:eP}),(0,l.jsxs)("div",{className:"entry_fees_coins_battle",children:[(0,Z.t)("entry_fees"),"\xa0:-\xa0",(0,l.jsx)("p",{className:"coins_selected",children:" ".concat(ef," Coins")})," "]}),(0,l.jsx)("div",{className:"battle_line_break"}),(0,l.jsxs)("div",{className:"battle_cat_image_main_div",children:[(0,l.jsx)("div",{className:"battle_cat_image",children:""!==eJ?(0,l.jsx)(J(),{src:eJ,width:50,height:50,className:"rounded"}):(0,l.jsx)(J(),{src:k.Z,width:50,height:50,className:"rounded"})}),(0,l.jsx)("div",{className:"battle_code_bottom_cat",children:eZ})]})]}),(0,l.jsxs)("div",{className:"inner_Screen onevsone_colum_adj",children:[(0,l.jsxs)("div",{className:"user_profile",children:[(0,l.jsx)("img",{src:null==$?void 0:null===(U=$.data)||void 0===U?void 0:U.profile,alt:"wrteam",onError:j.HS}),(0,l.jsxs)("h5",{className:"my-3 fw-bold",children:[" ",(0,j.$G)((null==$?void 0:null===(q=$.data)||void 0===q?void 0:q.name)||(null==$?void 0:null===(A=$.data)||void 0===A?void 0:A.email)||(null==$?void 0:null===(H=$.data)||void 0===H?void 0:H.mobile),12)]}),(0,l.jsx)("span",{className:"createJoinSpan",children:(0,Z.t)("creator")})]}),null==eg?void 0:eg.map((e,a)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"vs_image",children:(0,l.jsx)("img",{src:P.Z.src,alt:"versus",height:100,width:50})}),(0,l.jsxs)("div",{className:"opponent_image",children:[(0,l.jsx)("img",{src:e.profileUrl,alt:"wrteam",onError:j.HS}),(0,l.jsx)("h5",{className:"my-3 fw-bold",children:(0,j.$G)(e.name?e.name:(0,Z.t)("waiting"),12)}),(0,l.jsx)("span",{className:"createJoinSpan",children:(0,Z.t)("joiner")})]},a)]}))]})]})})})}):""]})})}}]);