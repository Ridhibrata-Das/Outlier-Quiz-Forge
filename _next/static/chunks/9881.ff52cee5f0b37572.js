"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9881],{70861:function(e,l,a){a.d(l,{FT:function(){return t}});var s=a(67294),n=a(85893);let i=["as","disabled"];function t({tagName:e,disabled:l,href:a,target:s,rel:n,role:i,onClick:t,tabIndex:r=0,type:o}){e||(e=null!=a||null!=s||null!=n?"a":"button");let c={tagName:e};if("button"===e)return[{type:o||"button",disabled:l},c];let u=s=>{var n;if(!l&&("a"!==e||(n=a)&&"#"!==n.trim())||s.preventDefault(),l){s.stopPropagation();return}null==t||t(s)};return"a"===e&&(a||(a="#"),l&&(a=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:l?void 0:r,href:a,target:"a"===e?s:void 0,"aria-disabled":l||void 0,rel:"a"===e?n:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},c]}let r=s.forwardRef((e,l)=>{let{as:a,disabled:s}=e,r=function(e,l){if(null==e)return{};var a={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(l.indexOf(s)>=0)continue;a[s]=e[s]}return a}(e,i),[o,{tagName:c}]=t(Object.assign({tagName:a,disabled:s},r));return(0,n.jsx)(c,Object.assign({},r,o,{ref:l}))});r.displayName="Button",l.ZP=r},76720:function(e,l,a){var s=a(93967),n=a.n(s),i=a(67294),t=a(70861),r=a(97400),o=a(85893);let c=i.forwardRef((e,l)=>{let{as:a,bsPrefix:s,variant:i="primary",size:c,active:u=!1,disabled:d=!1,className:m,...p}=e,h=(0,r.vE)(s,"btn"),[_,{tagName:g}]=(0,t.FT)({tagName:a,disabled:d,...p});return(0,o.jsx)(g,{..._,...p,ref:l,disabled:d,className:n()(m,h,u&&"active",i&&"".concat(h,"-").concat(i),c&&"".concat(h,"-").concat(c),p.href&&d&&"disabled")})});c.displayName="Button",l.Z=c},69881:function(e,l,a){a.r(l);var s=a(85893),n=a(67294),i=a(2914),t=a(39844),r=a(18061),o=a(81702),c=a(76720),u=a(86501),d=a(31417),m=a(68387),p=a(39332),h=a(41664),_=a.n(h),g=a(44173),x=a(63754),f=a(36609),j=a(91768),v=a(5152),b=a.n(v),N=a(9661),w=a(91259),y=a(54074),Z=a(9473);let k=b()(()=>a.e(2397).then(a.bind(a,21474)),{loadableGenerated:{webpack:()=>[21474]},ssr:!1});l.default=(0,j.Z)()(()=>{let[e,l]=(0,n.useState)(!1),[a,h]=(0,n.useState)(!1),[j,v]=(0,n.useState)("password"),[b,P]=(0,n.useState)((0,s.jsx)(g.I$m,{})),{auth:C}=(0,m.Z)(),[I,R]=(0,n.useState)({name:"",mobile:"",email:"",profile:"",all_time_rank:"",all_time_score:"",coins:"",friends_code:""}),S=(0,n.useRef)(),z=(0,n.useRef)(),D=(0,p.useRouter)(),E=(0,Z.v9)(y.zl),q=async(e,l)=>{try{return await (0,w.e5)(C,e,l)}catch(e){throw e}},B=async e=>{e.preventDefault(),l(!0);let a=S.current.value,s=z.current.value;try{let e=await q(a,s);R(e.user),R(e=>({...e,auth_type:"email"})),e.user.emailVerified?(0,d.rk)(e.user.uid,s=>{let n=e.user.uid,i=e.user.photoURL;(0,d.z2)(n,"email",null,a,i,null,null,null,e=>{h(!1),u.ZP.success((0,f.t)("successfully_login")),"131"===s.message?h(!0):D.push("/quiz-play")},e=>{"126"===e?u.ZP.error((0,f.t)("ac_deactive")):(u.ZP.error("".concat((0,f.t)("Please ")).concat((0,f.t)("try_again"))),console.log("signin handleSignin",e))}),l(!1)},e=>{console.log("onerror",e)}):(u.ZP.error((0,f.t)("ver_email_first")),l(!1))}catch(e){(0,N.Af)(e.code),l(!1)}},G=async e=>{e.preventDefault();let a=new w.hJ;try{let e=await (0,w.rh)(C,a),{user:s}=e;R(s),R(e=>({...e,auth_type:"gmail"}));let{uid:n,email:i,phoneNumber:t,photoURL:r}=s,{isNewUser:o}=(0,w.gK)(e);(0,d.z2)(n,"gmail",null,i,r,t,null,null,e=>{l(!1),u.ZP.success((0,f.t)("successfully_login")),o?h(!0):D.push("/quiz-play")},e=>{"126"===e?u.ZP.error((0,f.t)("ac_deactive")):(u.ZP.error("".concat((0,f.t)("Please ")).concat((0,f.t)("try_again"))),console.log("logIn signInWithGoogle",e))})}catch(e){(0,N.Af)(e.code),l(!1)}};return(0,s.jsx)(k,{children:(0,s.jsx)("div",{className:"loginform wrapper mt-5",children:a?(0,s.jsx)(x.Z,{profile:I,setProfile:R}):(0,s.jsx)("div",{className:"custom-container glassmorcontain",children:(0,s.jsx)("div",{className:"row morphisam",children:(0,s.jsx)("div",{className:"col-12 border-line position-relative",children:(0,s.jsxs)("div",{className:"inner__login__form outerline",children:[(0,s.jsx)("h3",{className:"mb-2 text-capitalize ",children:(0,f.t)("login")}),(0,s.jsx)("div",{className:"social__icons",children:(0,s.jsxs)("ul",{children:["1"===E.gmail_login&&(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"social__icons_btn",onClick:G,children:[(0,s.jsx)(r.JM8,{})," ",(0,f.t)("login_with_google")]})}),"1"===E.phone_login&&(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"social__icons_btn",onClick:()=>{D.push("/auth/otp-verify")},children:[(0,s.jsx)(i.XEH,{})," ",(0,f.t)("login_phone")]})})]})}),("1"===E.phone_login||"1"===E.gmail_login)&&"1"===E.email_login&&(0,s.jsxs)("div",{className:"continue",children:[(0,s.jsx)("span",{className:"line"}),(0,s.jsx)("p",{children:(0,f.t)("or_continue_with_email")}),(0,s.jsx)("span",{className:"line"})]}),"1"===E.email_login&&(0,s.jsxs)(o.Z,{onSubmit:e=>B(e),children:[(0,s.jsxs)(o.Z.Group,{className:"mb-3 position-relative d-inline-block w-100",controlId:"formBasicEmail",children:[(0,s.jsx)(o.Z.Control,{type:"email",placeholder:(0,f.t)("enter_email"),className:"inputelem",ref:S,required:!0}),(0,s.jsx)("span",{className:"emailicon",children:(0,s.jsx)(t.Zuw,{})})]}),(0,s.jsxs)(o.Z.Group,{className:"position-relative d-inline-block w-100",controlId:"formBasicPassword",children:[(0,s.jsx)(o.Z.Control,{type:j,placeholder:(0,f.t)("enter_password"),className:"inputelem",ref:z,required:!0}),(0,s.jsx)("span",{className:"emailicon2",children:(0,s.jsx)(i.kUi,{})}),(0,s.jsx)("span",{onClick:()=>{"password"===j?(P((0,s.jsx)(g.rCC,{})),v("text")):(P((0,s.jsx)(g.I$m,{})),v("password"))},className:"password_icon",children:b})]}),(0,s.jsx)("div",{className:"text-end text-small mb-3 resetpassword",children:(0,s.jsx)("small",{children:(0,s.jsxs)(_(),{href:"/auth/reset-password",children:[(0,f.t)("forgot_pass")," ?"]})})}),(0,s.jsx)(c.Z,{variant:"primary w-100 mb-3",className:"submit_login",type:"submit",disabled:e,children:e?(0,f.t)("please_wait"):(0,f.t)("login")})]}),"0"===E.email_login&&"0"===E.gmail_login&&"1"===E.phone_login||"0"===E.email_login&&"1"===E.gmail_login&&"0"===E.phone_login?"":(0,s.jsxs)("p",{className:"text-center",children:[(0,f.t)("dont_have_acc"),"\xa0",(0,s.jsx)("span",{children:(0,s.jsx)(_(),{href:"/auth/sign-up",replace:!0,className:"text-dark auth-signup",children:(0,f.t)("sign_up")})})]})]})})})})})})})}}]);