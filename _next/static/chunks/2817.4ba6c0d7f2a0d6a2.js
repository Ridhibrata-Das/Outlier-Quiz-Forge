"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2817],{82453:function(e,s,n){var a=n(85893),i=n(67294),l=n(3751),t=n(95774);n(19646);var r=n(52104),c=n(9473);let o=(0,i.forwardRef)((e,s)=>{let{timerSeconds:n,onTimerExpire:o}=e,d=new Date;d.setSeconds(d.getSeconds()+n);let u=(0,c.v9)(r.bh),m=u&&(null==u?void 0:u.primary_color),{seconds:p,restart:x,start:h,minutes:v,pause:j,hours:b}=(0,l.useTimer)({expiryTimestamp:d,autoStart:!0,onExpire:()=>{setTimeout(()=>{o()},500)}});(0,i.useImperativeHandle)(s,()=>({startTimer(){h()},resetTimer(){let e=new Date;e.setSeconds(e.getSeconds()+n),x(e)},pauseTimer(){j()},getTimerSeconds:()=>p,getMinuteandSeconds:()=>"".concat(b,":").concat(v,":").concat(p)}));let _=100/n,N=0;N=n<=60?_*p:n>=60&&n<=3600?_*(p+60*v):_*(p+60*v+3600*b);let f="#ef5388";return n<=60&&p<=10?f="red":0===b&&0===v&&n>=60&&n<=3600&&p<=10&&(f="red"),(0,a.jsx)("div",{className:"coinsdata",children:(0,a.jsx)("div",{className:"progressbar-container adj_timer_for_ui",children:(0,a.jsx)(t.Ip,{value:N,text:0===b&&0===v?"".concat(p):0===b?"".concat(v,":").concat(p):"".concat(b,":").concat(v,":").concat(p),styles:(0,t.y3)({textSize:"16px",textColor:m,pathColor:f,trailColor:"#d6d6d6",circleTop:"0%"})})})})});s.Z=o},12817:function(e,s,n){n.r(s);var a=n(85893),i=n(67294),l=n(45697),t=n.n(l),r=n(91768),c=n(82453),o=n(56469),d=n(82305),u=n(9661),m=n(2914),p=n(9473),x=n(54074),h=n(27262),v=n(9559),j=n(94050),b=n(11163),_=n(72089);function N(e){var s;let{t:n,questions:l,timerSeconds:t,onOptionClick:r}=e,[N,f]=(0,i.useState)(l),[w,g]=(0,i.useState)(0),[y,S]=(0,i.useState)(0),[k,C]=(0,i.useState)(0),I=(0,i.useRef)(null),q=(0,i.useRef)(null),[E,O]=(0,i.useState)(!0),[T,A]=(0,i.useState)(!1),[D,H]=(0,i.useState)(l),[Z,B]=(0,i.useState)(!1),[P,Q]=(0,i.useState)(!1),[R,F]=(0,i.useState)(0),W=(0,b.useRouter)(),M=(0,p.v9)(x.zl),z=(0,p.I0)(),J=(0,p.v9)(h.BO),L=(0,p.v9)(h.LM),U=(0,i.useRef)(!1),Y=(0,p.v9)(e=>e.User),K=(0,p.v9)(h.BO),G="1"===M.exam_latex_mode;setTimeout(()=>{f(l)},500);let V=e=>{let s;e.map((e,n)=>{s=e.isAnswered,"0"===K.answer_again&&!0===s&&Q(!0)})},X=e=>{let s=[...new Set(e.map(e=>e.marks))],n=[];return s.forEach(s=>{let a=e.filter(e=>e.marks==s),i=a.filter(e=>{var s;let n=(0,u.QY)(e.answer,null==Y?void 0:null===(s=Y.data)||void 0===s?void 0:s.firebase_id);return e.selected_answer===n}).length,l=a.length-i;n.push({mark:"".concat(s),correct_answer:"".concat(i),incorrect:"".concat(l)})}),JSON.stringify(n)},$=e=>JSON.stringify([...new Set(e.map(e=>e.marks))].map(s=>{var n;let a=e.filter(e=>e.marks===s),i=null===(n=a.filter(e=>{var s;return e.selected_answer===(0,u.QY)(e.answer,null==Y?void 0:null===(s=Y.data)||void 0===s?void 0:s.firebase_id)}))||void 0===n?void 0:n.length;return{mark:s,correct_answer:i,incorrect:(null==a?void 0:a.length)-i}})),ee=async e=>{let s=0;return JSON.parse(e).forEach(e=>{s+=parseInt(e.correct_answer)+parseInt(e.incorrect)}),s},es=async e=>{let s=0;return JSON.parse(e).forEach(e=>{s+=parseInt(e.correct_answer)}),s},en=async e=>{let s=0;return JSON.parse(e).forEach(e=>{s+=parseInt(e.incorrect)}),s},ea=async e=>{let s=await ee(e),n=await es(e),a=await en(e);(0,h.Q2)(s,n,a)},ei=e=>{let s=60*e,n=Math.floor(s/3600),a=Math.floor(s/60)%60,i=s%60;return 0===i&&(i=60,a--),n=n.toString().padStart(2,"0"),a=a.toString().padStart(2,"0"),i=i.toString().padStart(2,"0"),"".concat(n,":").concat(a,":").concat(i)},el=()=>{let e=ei(Number(K.duration)).split(":"),s=parseInt(e[0]),n=parseInt(e[1]),a=parseInt(e[2]),i=I.current.getMinuteandSeconds().split(":"),l=parseInt(i[0]);return 3600*s+60*n+a-(3600*l+60*parseInt(i[1])+parseInt(i[2]))},et=async()=>{U.current=!0;let e=R,s=0;D.map(n=>{var a;let i=n.selected_answer;(0,u.QY)(n.answer,null==Y?void 0:null===(a=Y.data)||void 0===a?void 0:a.firebase_id)==i&&(s+=Number(n.marks),F(++e),S(e),C(D.length-e),(0,h.od)(e,D.length-e))});let n=X(D),a=$(D);await ea(a);let i=el();(0,h.tK)(i,n,s),z((0,h.Rp)(e)),r(D,e),await (0,u.mB)(e,null==D?void 0:D.length),await er()},er=async()=>{let e={totalQuestions:null==D?void 0:D.length,showQuestions:!0,reviewAnswer:!1};z((0,h.Su)(e)),await W.push("/exam-module/result")},ec=e=>{g(e)},eo=async()=>{let e=X(L);ea($(L)),(0,v.b6)({exam_module_id:Number(J.id),total_duration:1,obtained_marks:0,statistics:e,rules_violated:1,captured_question_ids:[],onSuccess:e=>{},onError:e=>{console.log(e)}})};return(0,i.useEffect)(()=>()=>{U.current||eo()},[]),(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)("div",{className:"dashboardPlayUppDiv funLearnQuestionsUpperDiv text-end p-2 pb-0",children:[(0,a.jsxs)("div",{className:"leftSec",children:[(0,a.jsx)("div",{className:"coins",children:(0,a.jsxs)("span",{children:[n("coins")," : ",null==Y?void 0:null===(s=Y.data)||void 0===s?void 0:s.coins]})}),(0,a.jsx)("div",{className:"coins",children:(0,a.jsxs)("span",{children:[N[w].marks," ",n("marks")]})})]}),(0,a.jsx)("div",{className:"rightSec",children:(0,a.jsx)("div",{className:"rightWrongAnsDiv correctIncorrect",children:(0,a.jsxs)("span",{className:"rightAns",children:[w+1," - ",null==N?void 0:N.length]})})})]}),(0,a.jsxs)("div",{className:"questions examModule",ref:q,children:[(0,a.jsx)("div",{className:"timerWrapper",children:(0,a.jsx)("div",{className:"inner__headerdash",children:N&&""!==N[0].id?(0,a.jsx)(c.Z,{ref:I,timerSeconds:t,onTimerExpire:()=>{et(),C(k+1)}}):""})}),(0,a.jsx)(_.default,{questions:N,currentQuestion:w,setAnswerStatusClass:e=>!!N[w].isAnswered&&(M&&M.answer_mode,N[w].selected_answer===e&&"bg-theme"),handleAnswerOptionClick:e=>{let{id:s}=N[w],n=N.map(n=>n.id===s?{...n,selected_answer:e,isAnswered:!0}:n);H(n),V(n),N[w].selected_answer&&f(n),r(n),z((0,h.gk)(n))},probability:!1,latex:!0,exam_latex:G}),(0,a.jsx)("div",{className:"divider",children:(0,a.jsx)("hr",{style:{width:"112%",backgroundColor:"gray",height:"2px"}})}),(0,a.jsxs)("div",{className:"dashoptions selfLearnLifelines",children:[(0,a.jsx)("div",{className:"fifty__fifty",children:(0,a.jsxs)("button",{className:"btn btn-primary",onClick:()=>{let e=w-1;e>=0&&(e>0?O(!1):O(!0),A(!1),g(e))},disabled:E,children:[(0,a.jsxs)("span",{className:"lifelineIcon",children:[" ",(0,a.jsx)(j.S1R,{size:25})]}),(0,a.jsx)("span",{className:"lifelineHoverIcon",children:n("previous_question")})]})}),(0,a.jsxs)("div",{className:"notification self-learning-pagination",children:[(0,a.jsxs)(o.ZP,{className:"notify_btn btn-primary",onClick:()=>B(!0),children:[(0,a.jsxs)("span",{className:"lifelineIcon",children:[" ",(0,a.jsx)(m.SPC,{})]}),(0,a.jsx)("span",{className:"lifelineHoverIcon",children:n("view_question_dashboard")})]}),(0,a.jsxs)(d.Z,{centered:!0,open:Z,onOk:()=>B(!1),onCancel:()=>B(!1),footer:null,className:"custom_modal_notify self-modal",children:[(0,a.jsx)("div",{className:"que_pagination ".concat((null==N?void 0:N.length)>50?"questions-scrollbar":""),children:null==N?void 0:N.map((e,s)=>{var n;return(0,a.jsxs)("div",{className:"que_content",children:[(0,a.jsx)("p",{className:"d-none",children:e.id}),(0,a.jsx)("p",{className:"que_box ".concat(D&&(null===(n=D[s])||void 0===n?void 0:n.isAnswered)?"bg-green":"bg-dark"),onClick:()=>ec(s),children:s+1})]},s)})}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"resettimer",children:(0,a.jsx)("button",{className:"btn btn-primary",onClick:et,children:n("submit")})}),(0,a.jsx)("hr",{}),(0,a.jsx)("p",{children:n("color_code")}),(0,a.jsxs)("div",{className:"custom_checkbox d-flex flex-wrap align-items-center",children:[(0,a.jsx)("input",{type:"radio",name:"",className:"tick me-2",checked:!0,readOnly:!0})," ",n("att"),(0,a.jsx)("input",{type:"radio",name:"",className:"untick ms-3 me-2",disabled:!0,readOnly:!0})," ",n("un_att")]})]})]}),(0,a.jsx)("div",{className:"skip__questions",children:(0,a.jsxs)("button",{className:"btn btn-primary",onClick:()=>{D.map(e=>{e.isAnswered||Q(!1)});let e=w+1;e<(null==N?void 0:N.length)&&(e+1===(null==N?void 0:N.length)?A(!0):A(!1),O(!1),g(e))},disabled:T,children:[(0,a.jsxs)("span",{className:"lifelineIcon",children:[" ",(0,a.jsx)(j.nCQ,{size:25})]}),(0,a.jsx)("span",{className:"lifelineHoverIcon",children:"".concat(n("next")," ").concat(n("questions")," ")})]})}),(0,a.jsx)("div",{className:"resettimer",children:(0,a.jsx)("button",{className:"btn btn-primary",onClick:et,children:n("submit Exam")})})]})]})]})}N.propTypes={questions:t().array.isRequired,onOptionClick:t().func.isRequired},N.defaultProps={showBookmark:!0},s.default=(0,r.Z)()(N)},72089:function(e,s,n){n.r(s);var a=n(85893),i=n(26911),l=n(9473),t=n(54074),r=n(9661);s.default=e=>{var s,n,c,o,d,u,m,p;let{questions:x,currentQuestion:h,setAnswerStatusClass:v,handleAnswerOptionClick:j,probability:b,latex:_,math:N,exam_latex:f}=e,{buttonRefA:w,buttonRefB:g,buttonRefC:y,buttonRefD:S,buttonRefE:k}=(0,r.e1)(x,h),C="1"===(0,l.v9)(t.zl).latex_mode,I=void 0==f?C||N:f;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"content__text",children:(0,a.jsx)("p",{className:"question-text",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(s=x[h])||void 0===s?void 0:s.question}):null===(n=x[h])||void 0===n?void 0:n.question})}),(null===(c=x[h])||void 0===c?void 0:c.image)?(0,a.jsx)("div",{className:"imagedash",children:(0,a.jsx)("img",{src:x[h].image,onError:r.HS,alt:""})}):"",(0,a.jsxs)("div",{className:"row optionsWrapper",children:[x[h].optiona?(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsx)("div",{className:"inner__questions",children:(0,a.jsx)("button",{ref:w,className:"btn button__ui w-100 ".concat(v("a")),onClick:e=>j("a"),children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(o=x[h])||void 0===o?void 0:o.optiona}):x[h].optiona})})})}),b?(0,a.jsx)(a.Fragment,{children:x[h].probability_a?(0,a.jsxs)("div",{className:"col text-end audiencePollDiv",children:[x[h].probability_a,(0,a.jsxs)("div",{className:"progressBarWrapper",children:[(0,a.jsx)(i.Z,{now:x[h].probability_a.replace("%",""),visuallyHidden:!0}),";"]})]}):""}):null]}):"",x[h].optionb?(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsx)("div",{className:"inner__questions",children:(0,a.jsx)("button",{ref:g,className:"btn button__ui w-100 ".concat(v("b")),onClick:e=>j("b"),children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(d=x[h])||void 0===d?void 0:d.optionb}):x[h].optionb})})})}),b?(0,a.jsx)(a.Fragment,{children:x[h].probability_b?(0,a.jsxs)("div",{className:"col text-end audiencePollDiv",children:[x[h].probability_b,(0,a.jsxs)("div",{className:"progressBarWrapper",children:[(0,a.jsx)(i.Z,{now:x[h].probability_b.replace("%",""),visuallyHidden:!0}),";"]})]}):""}):null]}):"","1"===x[h].question_type?(0,a.jsxs)(a.Fragment,{children:[x[h].optionc?(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsx)("div",{className:"inner__questions",children:(0,a.jsx)("button",{ref:y,className:"btn button__ui w-100 ".concat(v("c")),onClick:e=>j("c"),children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(u=x[h])||void 0===u?void 0:u.optionc}):x[h].optionc})})})}),b?(0,a.jsx)(a.Fragment,{children:x[h].probability_c?(0,a.jsxs)("div",{className:"col text-end audiencePollDiv",children:[x[h].probability_c,(0,a.jsxs)("div",{className:"progressBarWrapper",children:[(0,a.jsx)(i.Z,{now:x[h].probability_c.replace("%",""),visuallyHidden:!0}),";"]})]}):""}):null]}):"",x[h].optiond?(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsx)("div",{className:"inner__questions",children:(0,a.jsx)("button",{ref:S,className:"btn button__ui w-100 ".concat(v("d")),onClick:e=>j("d"),children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(m=x[h])||void 0===m?void 0:m.optiond}):x[h].optiond})})})}),b?(0,a.jsx)(a.Fragment,{children:x[h].probability_d?(0,a.jsxs)("div",{className:"col text-end audiencePollDiv",children:[x[h].probability_d,(0,a.jsx)("div",{className:"progressBarWrapper",children:(0,a.jsx)(i.Z,{now:x[h].probability_d.replace("%",""),visuallyHidden:!0})})]}):""}):null]}):"",""!==x[h].optione?(0,a.jsx)("div",{className:"row d-flex justify-content-center mob_resp_e",children:(0,a.jsxs)("div",{className:"col-md-6 col-12",children:[(0,a.jsx)("div",{className:"inner__questions",children:(0,a.jsx)("button",{ref:k,className:"btn button__ui w-100 ".concat(v("e")),onClick:e=>j("e"),children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col",children:I?(0,a.jsx)(r.Is,{htmlContent:null===(p=x[h])||void 0===p?void 0:p.optione}):x[h].optione})})})}),b?(0,a.jsx)(a.Fragment,{children:x[h].probability_e?(0,a.jsxs)("div",{className:"col text-end audiencePollDiv",children:[x[h].probability_e,(0,a.jsx)("div",{className:"progressBarWrapper",children:(0,a.jsx)(i.Z,{now:x[h].probability_e.replace("%",""),visuallyHidden:!0})})]}):""}):null]})}):""]}):""]})]})}}}]);